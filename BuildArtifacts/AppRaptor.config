<configuration>
	<configSections>
		<section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler,log4net" />
		<section name="serverInstallations" type="Teleopti.Ccc.SmartClientPortal.Shell.ConfigurationSections.ServerInstallations, Teleopti.Ccc.SmartClientPortal.Shell" />
	</configSections>

	<!--
	To run desktop client against multiple installations remove remarked section below.
	-->
	<!--
	<serverInstallations>
		<installations>
			<installation name="name-of-installation-1">
				<overrides>
					<appSetting key="FeatureToggle" value="http://TheServer/TeleoptiWFM/Web/" />
					<appSetting key="TenantServer" value="http://TheServer/TeleoptiWFM/Web/" />
					<appSetting key="ReportServer" value="http://TheServer/TeleoptiWFM/Web/" />
					<appSetting key="ConfigServer" value="http://TheServer/TeleoptiWFM/Web/" />
					<appSetting key="MatrixWebSiteUrl" value="http://TheServer/TeleoptiWFM/Analytics/" />
				</overrides>
			</installation>
			<installation name="name-of-installation-2">
				<overrides>
					<appSetting key="FeatureToggle" value="http://TheServer2/TeleoptiWFM/Web/" />
					<appSetting key="TenantServer" value="http://TheServer2/TeleoptiWFM/Web/" />
					<appSetting key="ReportServer" value="http://TheServer2/TeleoptiWFM/Web/" />
					<appSetting key="ConfigServer" value="http://TheServer2/TeleoptiWFM/Web/" />
					<appSetting key="MatrixWebSiteUrl" value="http://TheServer2/TeleoptiWFM/Analytics/" />
				</overrides>
			</installation>
		</installations>
	</serverInstallations>
	-->
	
	<log4net>
		<appender name="file" type="log4net.Appender.RollingFileAppender">
			<file value="TeleoptiErrorLog.txt" />
			<appendToFile value="true" />
			<rollingStyle value="Size" />
			<maxSizeRollBackups value="2" />
			<maximumFileSize value="1MB" />
			<staticLogFileName value="true" />
			<layout type="log4net.Layout.PatternLayout">
				<conversionPattern value="%date [%thread] %-5level %logger [%property{NDC}] - %message%newline" />
			</layout>
		</appender>

    <appender name="AdoNetAppender" type="log4net.Appender.AdoNetAppender">
      <bufferSize value="1" />
      <connectionType value="System.Data.SqlClient.SqlConnection, System.Data, Version=1.0.3300.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" />
      <commandText value="INSERT INTO dbo.AdvancedLoggingService ([LogDate],[BU],[DataSource],[WindowsIdentity],[Message],[HostIP],[SkillDays],[Agents],[TeamOptions],[BlockOptions],[GeneralOptions],[ExecutionTime],[BUId]) 
                   VALUES (@log_date, @bu, @datasource, @windowsindentity, @message, @hostip, @SkillDays, @Agents, @TeamOptions, @BlockOptions, @GeneralOptions,@ExecutionTime,@BUId)" />
      <parameter>
        <parameterName value="@log_date" />
        <dbType value="DateTime" />
        <layout type="log4net.Layout.RawTimeStampLayout" />
      </parameter>
      <parameter>
        <parameterName value="@bu" />
        <dbType value="String" />
        <size value="50" />
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%property{BU}" />
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@datasource" />
        <dbType value="String" />
        <size value="200" />
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%property{DataSource}" />
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@windowsindentity" />
        <dbType value="String" />
        <size value="200" />
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%property{WindowsIdentity}" />
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@message" />
        <dbType value="String" />
        <size value="100" />
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%message" />
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@hostip" />
        <dbType value="String" />
        <size value="30" />
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%property{HostIP}" />
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@SkillDays" />
        <dbType value="Int32" />
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%property{SkillDays}" />
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@Agents" />
        <dbType value="Int32" />
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%property{Agents}" />
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@TeamOptions" />
        <dbType value="String" />
        <size value="500" />
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%property{TeamOptions}" />
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@BlockOptions" />
        <dbType value="String" />
        <size value="500" />
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%property{BlockOptions}" />
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@GeneralOptions" />
        <dbType value="String" />
        <size value="500" />
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%property{GeneralOptions}" />
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@ExecutionTime" />
        <dbType value="Int32" />
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%property{ExecutionTime}" />
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@BUId" />
        <dbType value="String" />
        <size value="36" />
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%property{BUId}" />
        </layout>
      </parameter>
    </appender>
    
		<root>
			<level value="ERROR" />
			<appender-ref ref="file" />
		</root>

    <logger name="Teleopti.AdvanceLoggingService">
      <level value="INFO" />
      <appender-ref ref="AdoNetAppender" />
    </logger>

    <!--<logger name="Teleopti">
			<level value="INFO" />
		</logger>-->
	</log4net>

  <appSettings>
    <add key="GetConfigFromWebService" value="true"/>
    <add key="ShowMem" value="false"/>
	<!--WISEMETA: value="[URL]"-->
	<add key="FeatureToggle" value="$(URL)"/>
	<!--WISEMETA: value="[URL]"-->
	<add key="TenantServer" value="$(URL)"/>
	<!--WISEMETA: value="[URL]"-->
	<add key="ReportServer" value="$(URL)"/>
	<!--WISEMETA: value="[URL]"-->
	<add key="ConfigServer" value="$(URL)"/>
	<!--WISEMETA: value="[MATRIX_WEB_SITE_URL]"-->
	<add key="MatrixWebSiteUrl" value="$(MATRIX_WEB_SITE_URL)"/>
	<!--WISEMETA: value="[LOCAL_WIKI]"-->
	<add key="HelpUrl" value="$(LOCAL_WIKI)"/>
	<add key="HelpPrefix" value="F01%253A"/>
    <add key="HelpDivider" value="_"/>
    <add key="HelpSuffix" value=".html"/>
	<add key="HelpUrlOnline" value="http://wiki.teleopti.com/TeleoptiWFM/Special:MyLanguage/"/>
    <add key="HelpPrefixOnline" value="f01:"/>
    <add key="HelpDividerOnline" value="+"/>
    <add key="HelpSuffixOnline" value=""/>
	 
  </appSettings>
  <runtime>
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
      <dependentAssembly>
        <assemblyIdentity name="Autofac" publicKeyToken="17863af14b0044da" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-3.5.0.0" newVersion="3.5.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Castle.Core" publicKeyToken="407dd0808d44fbdc" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-3.3.0.0" newVersion="3.3.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Common.Logging" publicKeyToken="af08829b84f0328e" culture="neutral"/>
        <bindingRedirect oldVersion="0.0.0.0-2.2.0.0" newVersion="2.2.0.0"/>
      </dependentAssembly>
			<dependentAssembly>
				<assemblyIdentity name="Newtonsoft.Json" publicKeyToken="30ad4fe6b2a6aeed" culture="neutral" />
				<bindingRedirect oldVersion="0.0.0.0-6.0.0.0" newVersion="6.0.0.0" />
			</dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="FSharp.Core"
                          publicKeyToken="b03f5f7f11d50a3a"
                          culture="neutral" />
        <!-- Redirecting to version 4.3.0.0 of the assembly. -->
        <bindingRedirect oldVersion="2.3.0.0"
                         newVersion="4.3.0.0"/>
      </dependentAssembly>
    </assemblyBinding>
  </runtime>
</configuration>
