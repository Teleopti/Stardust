
/*
   den 24 augusti
   User: tamasb
   Database: new table
*/

/****** Object:  Table [dbo].[WorkflowControlSetAllowedAbsences]    Script Date: 08/24/2011 16:53:34 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE TABLE [dbo].[WorkflowControlSetAllowedAbsences](
	[WorkflowControlSet] [uniqueidentifier] NOT NULL,
	[Absence] [uniqueidentifier] NOT NULL
) ON [PRIMARY]

GO

ALTER TABLE [dbo].[WorkflowControlSetAllowedAbsences]  WITH CHECK ADD  CONSTRAINT [FK_WorkflowControlSetAllowedAbsences_Absence] FOREIGN KEY([Absence])
REFERENCES [dbo].[Absence] ([Id])
GO

ALTER TABLE [dbo].[WorkflowControlSetAllowedAbsences] CHECK CONSTRAINT [FK_WorkflowControlSetAllowedAbsences_Absence]
GO

ALTER TABLE [dbo].[WorkflowControlSetAllowedAbsences]  WITH CHECK ADD  CONSTRAINT [FK_WorkflowControlSetAllowedAbsences_WorkflowControlSet] FOREIGN KEY([WorkflowControlSet])
REFERENCES [dbo].[WorkflowControlSet] ([Id])
GO

ALTER TABLE [dbo].[WorkflowControlSetAllowedAbsences] CHECK CONSTRAINT [FK_WorkflowControlSetAllowedAbsences_WorkflowControlSet]
GO

/*
   den 29 augusti
   User: CS
   Database: new column in PreferenceRestriction, Absence
*/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

ALTER TABLE dbo.PreferenceRestriction ADD Absence uniqueidentifier NULL
GO

ALTER TABLE [dbo].[PreferenceRestriction]  WITH CHECK ADD  CONSTRAINT [FK_PreferenceRest_Absence] FOREIGN KEY([Absence]) REFERENCES [dbo].[Absence] ([Id])
GO

ALTER TABLE [dbo].[PreferenceRestriction] CHECK CONSTRAINT [FK_PreferenceRest_Absence]
GO

/*
   den 6 september
   User: CS
   Database: new column in PreferenceRestrictionTemplate, Absence
*/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

ALTER TABLE dbo.PreferenceRestrictionTemplate ADD Absence uniqueidentifier NULL
GO

ALTER TABLE [dbo].[PreferenceRestrictionTemplate]  WITH CHECK ADD  CONSTRAINT [FK_PreferenceRestriction_Absence] FOREIGN KEY([Absence]) REFERENCES [dbo].[Absence] ([Id])
GO

ALTER TABLE [dbo].[PreferenceRestrictionTemplate] CHECK CONSTRAINT [FK_PreferenceRestriction_Absence]
GO


	