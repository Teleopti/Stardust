<?xml version="1.0" encoding="utf-8" ?>
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"
                   assembly="Teleopti.Interfaces"
                   namespace="Teleopti.Interfaces.MessageBroker">
	<class name="Mailbox" table="msg.Mailbox">
		<id name="Id" type="guid"/>
		<property name="Route"/>
		<bag name="Notifications" cascade="save-update" inverse="true">
			<key column="MailboxParent"/>
			<one-to-many class="Notification"/>
		</bag>
	</class>
	<query name="LoadMailbox">
		<![CDATA[    
			from Mailbox as m where m.Id = :id
		]]>
	</query>
	<query name="MailboxesOfRoutes">
		<![CDATA[    
			from Mailbox as m where m.Route in (:routes)
		]]>
	</query>
</hibernate-mapping>