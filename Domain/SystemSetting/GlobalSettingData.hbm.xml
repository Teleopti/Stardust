<?xml version="1.0" encoding="utf-8" ?>
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"
                   assembly="Teleopti.Ccc.Domain"
                   namespace="Teleopti.Ccc.Domain.SystemSetting"
                   default-access="field.camelcase-underscore">
  <class name="GlobalSettingData">
    <cache usage="read-write" />
    <id name="Id"
		  access="nosetter.camelcase-underscore"
         type="guid"
         unsaved-value="null">
      <generator class="guid.comb" />
    </id>

    <version name="Version"
            unsaved-value ="null"/>
    <many-to-one name="UpdatedBy"
					 class="Teleopti.Ccc.Domain.Common.Person"
					 not-null="false"
					 foreign-key="FK_GlobalSetting_Person_UpdatedBy" />
    <property name="UpdatedOn"
				  type="UtcDateTime"
				  not-null="false"/>

    <property name="Key"
              column="[Key]"
              not-null="true" 
              unique-key="GlobalSettingUniqueKey"
              />
    <property name="serializedValue" 
              not-null="true"
              access="field"
              length="10000"
              />
    <many-to-one name="BusinessUnit"
                class="Teleopti.Ccc.Domain.Common.BusinessUnit"
                access="nosetter.camelcase-underscore"
                unique-key="GlobalSettingUniqueKey"
                not-null="true" 
                foreign-key="FK_GlobalSettingData_BusinessUnit"/>

    <filter name="businessUnitFilter"
        condition=":businessUnitParameter = BusinessUnit" />
  </class>
</hibernate-mapping>
