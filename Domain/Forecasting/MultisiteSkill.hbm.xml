<?xml version="1.0" encoding="utf-8" ?>
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"
                   assembly="Teleopti.Ccc.Domain"
                   namespace="Teleopti.Ccc.Domain.Forecasting"
                   default-access="field.camelcase-underscore">
  <joined-subclass name="MultisiteSkill"
					extends="Skill">
    <key column="Skill" foreign-key="FK_MultisiteSkill_Skill"/>
    <set name="ChildSkills"
				 cascade="none">
      <key column="ParentSkill" />
      <one-to-many class="ChildSkill"/>
    </set>
    <map name="TemplateMultisiteWeekCollection"
	            cascade="all-delete-orphan"
              inverse="true">
      <key column="Parent" />
      <index type="int">
        <column name="WeekdayIndex" not-null="true"/>
      </index>
      <one-to-many class="Teleopti.Ccc.Domain.Forecasting.MultisiteDayTemplate"/>
    </map>
  </joined-subclass>
</hibernate-mapping>
