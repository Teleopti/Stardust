<div class="container body-content" ng-controller="summaryController as vm">
	<h2>Welcome to Stardust Dashboard!</h2>
	<div class="row">
		<div class="col-md-4 panel panel-default">
			<div class="panel-heading">Nodes</div>
			<div class="panel-body text-container">
				Monitor the nodes that executes the long running background jobs. You can see their latest heartbeats and what jobs they are running.
			</div>
			<div class="panel-footer">
				<a href="#StardustDashboard/nodes">
					<button class="btn btn-primary" md-svg-icon="alarm">
						<span class="text-white">Monitor nodes &raquo;</span>
					</button>
				</a>
			</div>
		</div>
		<div class="col-md-4 panel panel-default ">
			<div class="panel-heading">Queue</div>
			<div class="panel-body text-container">
				Monitor jobs that are in queue waiting for a free node.
			</div>
			<div class="panel-footer">
				<a href="#StardustDashboard/queue">
					<button class="btn btn-primary">
						<span class="text-white">Monitor queue &raquo;</span>
					</button>
				</a>
			</div>
		</div>
		<div class="col-md-4 panel panel-default">
			<div class="panel-heading">Jobs</div>
			<div class="panel-body text-container">
				Monitor the history of jobs and the current processing ones. You can see details about the jobs, when they were processed, what node was running it, see logs from the job etc.
			</div>
			<div class="panel-footer">
				<a href="#StardustDashboard/jobs_">
					<button class="btn btn-primary">
						<span class="text-white">Monitor jobs &raquo;</span>
					</button>
				</a>

			</div>
		</div>
	</div>
	<div class="row">
		<h3>Stardust Summary</h3>
	</div>
	<div class="row">
		<div class="col-md-12">
			<h4>Nodes</h4>
			<div style="font-size: 14p; font-weight: bold; color: tomato">{{vm.NodeError}}</div>
			<div>
				<table>
					<thead>
					<tr>
						<th>Url</th>
						<th>Latest Heartbeat</th>
						<th>Working</th>
					</tr>
					</thead>
					<tbody>
					<tr ng-class="{'greenNode': node.Alive === true, 'redNode': node.Alive === false}" ng-repeat="node in vm.WorkerNodes">
						<td><a href="#StardustDashboard/nodes/{{node.Id}}">{{node.Url}}</a></td>
						<td>{{node.Heartbeat | date : 'yyyy-MM-dd HH:mm:ss'}}</td>
						<td>{{node.Running}}</td>
					</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
	
	<div class="row">
		<div class="col-md-12">
			<h4>Currently Running Jobs</h4>
			<div style="font-size: 14p; font-weight: bold; color: tomato">{{vm.JobError}}</div>
			<div>
				<table>
					<thead>
						<tr>
							<th>Type</th>
							<th>Started</th>
							<th>Sent to</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="job in vm.RunningJobs">
							<td><a href="#StardustDashboard/jobs_/{{job.JobId}}">{{job.Name}}</a></td>
							<td>{{job.Started | date : 'yyyy-MM-dd HH:mm:ss'}}</td>
							<td>{{job.SentToWorkerNodeUri}}</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
	
	<div class="row">
		<div class="col-md-12">
			<h4>Queue - Top 5</h4>
			<div>
				<table>
					<thead>
					<tr>
						<th>Type</th>
						<th>Created By</th>
						<th>Created At </th>
					</tr>
					</thead>
					<tbody>
					<tr ng-repeat="job in vm.QueuedJobs">
						<td><a href="##StardustDashboard/queue/{{job.JobId}}">{{job.Name}}</a></td>
						<td>{{job.CreatedBy}}</td>
						<td>{{job.Created | date : 'yyyy-MM-dd HH:mm:ss'}}</td>
					</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>

