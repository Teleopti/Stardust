<UserControl x:Class="Teleopti.Ccc.Win.WpfControls.Controls.ScheduleViewer.Views.ScheduleRangeView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:Models="clr-namespace:Teleopti.Ccc.Win.WpfControls.Controls.ScheduleViewer.Models"
    xmlns:views="clr-namespace:Teleopti.Ccc.Win.WpfControls.Controls.ScheduleViewer.Views">
    <UserControl.Resources>

        <DataTemplate DataType="{x:Type Models:ScheduleViewerScheduleDayViewModel}" x:Key="ScheduleDayViewTemplate">
            <Border>
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                   
                    <views:ScheduleViewerScheduleDayView DataContext="{Binding}" 
                                                         Grid.Row="0"
                                                         Visibility="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type UserControl}}, Path=DataContext.ShowOverview, FallbackValue=Visible}"/>
                      
                
                    <views:ScheduleViewerScheduleDayViewDetailed DataContext="{Binding}"  
                                                                 Grid.Row="1" 
                                                                 Visibility="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type UserControl}}, Path=DataContext.ShowSchedule, FallbackValue=Visible}"/>
                    
                        
                    <views:ScheduleViewerScheduleDayViewSchedule DataContext="{Binding}"  
                                                                 Grid.Row="2"
                                                                 Visibility="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type UserControl}}, Path=DataContext.ShowDetails, FallbackValue=Visible}"/>
                       
                       
                </Grid>
            </Border>
        </DataTemplate>

        <DataTemplate DataType="{x:Type Models:ScheduleViewerScheduleDayViewModel}" x:Key="ScheduleDayViewTemplateSchedule">
            <views:ScheduleViewerScheduleDayViewSchedule DataContext="{Binding}" />
        </DataTemplate>

       
    </UserControl.Resources>
    <Border BorderBrush="Black" BorderThickness="1" >
       
                <StackPanel Orientation="Horizontal">

                    <TextBlock Text="{Binding Path=Person}" Width="150"/>

                    <ItemsControl ItemsSource="{Binding Path=Parts}" ItemTemplate="{StaticResource ScheduleDayViewTemplate}">
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <StackPanel Orientation="Horizontal" IsItemsHost="True" />
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>
                    </ItemsControl>

                </StackPanel>
    </Border>
</UserControl>
