
<div>
	
	<div>

		<span class="breadbin" ng-animate="'animate'" ng-repeat="breadcrumb in vm.breadcrumbs">

			<a ng-if="!$last" href="" ng-click="vm.handleBreadcrumbClick(breadcrumb.Id)">{{breadcrumb.Name}} ></a>
			<span ng-if="$last">{{breadcrumb.Name}}</span>
		</span>
		<p />

		<div>
			<div ng-if="vm.allowEdit">

				<button class="wfm-btn wfm-btn-default" ng-click="vm.addSeat()">
					<i class="mdi small mdi-plus"></i>
					<md-tooltip>
						Add Seat
					</md-tooltip>
				</button>
				<button class="wfm-btn wfm-btn-default" ng-click="vm.addLocation()">
					<i class="mdi small mdi-account-plus"></i>
					<md-tooltip>
						
						Add Location
					</md-tooltip>
				</button>
				<button class="wfm-btn wfm-btn-default" ng-click="vm.addImage()">
					<i class="mdi small mdi-file-image"></i>
					<md-tooltip>
						Add Image
					</md-tooltip>
				</button>
				<button class="wfm-btn wfm-btn-default" ng-click="vm.setBackgroundImage()">
					<i class="mdi small mdi-file-image-box"></i>
					<md-tooltip>
						Set Background Image
					</md-tooltip>
				</button>

				<button class="wfm-btn wfm-btn-default" ng-click="vm.group()">
					<i class="mdi small mdi-airplane "></i>
					<md-tooltip>
						Group Selected Items
					</md-tooltip>
				</button>
				<button class="wfm-btn wfm-btn-default" ng-click="vm.ungroup()">
					<i class="mdi small mdi-television "></i>
					<md-tooltip>
						Ungroup Items
					</md-tooltip>
				</button>
				<button class="wfm-btn wfm-btn-default" ng-click="vm.sendToBack()">
					<i class="mdi small mdi-arrange-send-to-back"></i>
					<md-tooltip>
						Send to Back
					</md-tooltip>
				</button>
				<button class="wfm-btn wfm-btn-default" ng-click="vm.sendBackward()">
					<i class="mdi small mdi-arrange-send-backward "></i>
					<md-tooltip>
						Move Back
					</md-tooltip>
				</button>
				<button class="wfm-btn wfm-btn-default" ng-click="vm.bringForward()">
					<i class="mdi small mdi-arrange-bring-forward"></i>
					<md-tooltip>
						Move Forwards
					</md-tooltip>
				</button>
				<button class="wfm-btn wfm-btn-default" ng-click="vm.bringToFront()">
					<i class="mdi small mdi-arrange-bring-to-front "></i>
					<md-tooltip>
						Bring to Front
					</md-tooltip>
				</button>
				<button class="wfm-btn wfm-btn-default" ng-click="vm.alignLeft()">
					<i class="mdi small mdi-format-align-left"></i>
					<md-tooltip>
						Align Left
					</md-tooltip>
				</button>
				<button class="wfm-btn wfm-btn-default" ng-click="vm.alignRight()">
					<i class="mdi small mdi-format-align-right "></i>
					<md-tooltip>
						Align Right
					</md-tooltip>
				</button>
				<button class="wfm-btn wfm-btn-default" ng-click="vm.alignTop()">
					<i class="mdi small mdi-border-top"></i>
					<md-tooltip>
						Align Top
					</md-tooltip>
				</button>
				<button class="wfm-btn wfm-btn-default" ng-click="vm.alignBottom()">
					<i class="mdi small mdi-border-bottom"></i>
					<md-tooltip>
						Align Bottom
					</md-tooltip>
				</button>

			</div>
		</div>

	</div>

	<div id="seatmapcanvas" style="position: relative; margin-top: 20px;">
		<div style="top: -25px; right: 10px; z-index: 2; position: absolute;">
			<button class="wfm-fab big info" ng-click="vm.toggleEditMode()">
				<i ng-if="!vm.allowEdit" class="mdi mdi-pencil" aria-hidden="true"></i>
				<i ng-if="vm.allowEdit" class="mdi mdi-close" aria-hidden="true"></i>
				<md-tooltip ng-if="!vm.allowEdit">
					Edit Seat Map
				</md-tooltip>
				<md-tooltip ng-if="vm.allowEdit">
					Cancel Changes
				</md-tooltip>
			</button>

			<button ng-if="vm.allowEdit" class="wfm-fab big success" ng-click="vm.save()">
				<i class="mdi mdi-check"></i>
				<md-tooltip>
					Save Changes
				</md-tooltip>
			</button>
		</div>

		<div style="width:100%;" class="wfm-block material-depth-2">
			<canvas ng-show="!vm.isLoading" id="c"></canvas>
			<md-progress-circular ng-show="vm.isLoading" style="position: absolute;left: 50%;top: 50%;margin-left: -32px;margin-top: -32px;" md-mode=" indeterminate"></md-progress-circular>
		</div>

	</div>

	<!--<div class="mapControls">
		<button class="mapNavButton btn btn-sm btn-default rotate45" data-toggle="button" ng-click="vm.toggleMoveMode()"><span class="glyphicon glyphicon-fullscreen" aria-hidden="true"></span></button>
		<input style="width: 36%;" orient="vertical" id="zoomSlider" min="0.1" max="5" value="1" step=".05" type="range" />
	</div>-->

	<div class="modal-box">
		<div ng-cloak ng-show="vm.showLocationDialog">
			<div class="modalbg">
				<div class="dialog">
					<div class="modal-header">
						Add Location
					</div>
					<div class="modal-inner-content">
						<input type="text" ng-model="vm.newLocationName" placeholder="Name..." />
					</div>
					<div class="modal-footer">
						<aside>
							<a ng-click="vm.showLocationDialog = false" class="wfm-btn wfm-btn-invis-primary">DISMISS</a>
							<a class="wfm-btn wfm-btn-invis-primary" ng-click="vm.addNamedLocation()">CREATE</a>
						</aside>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="modal-box">
		<div ng-cloak ng-show="vm.showFileDialog">
			<div class="modalbg">
				<div class="dialog">
					<div class="modal-header">
						Load Image
					</div>
					<div class="modal-inner-content">
						<form name="myForm" style="max-height:600px; padding:10px;">
							<input type="file" name="myImage" image-with-preview
								   ng-model="image"
								   accept="image/*"
								   dimensions="height < 2000 && width < 4000">

							<span class="error" ng-show="myForm.myImage.$error.image">
								Not a JPEG, SVG or a PNG!
							</span>
							<span class="error" ng-show="myForm.myImage.$error.dimensions">
								Invalid dimensions! Expecting a image smaller than 2000x4000.
							</span>
							<img class="material-depth-1" style="max-width: 100%; max-height: 540px; padding:10px; margin-top: 10px; margin-bottom:10px; display: block; margin-left: auto;margin-right: auto;" ng-show="image.src" ng-src="{{image.src}}" />

						</form>
					</div>
					<div class="modal-footer">
						<aside>
							<a ng-click="vm.showFileDialog = false" class="wfm-btn wfm-btn-invis-primary">DISMISS</a>
							<a class="wfm-btn wfm-btn-invis-primary" ng-click="vm.fileCallbackFunction(image)">CHOOSE</a>
						</aside>
					</div>
				</div>
			</div>
		</div>
	</div>




</div>

