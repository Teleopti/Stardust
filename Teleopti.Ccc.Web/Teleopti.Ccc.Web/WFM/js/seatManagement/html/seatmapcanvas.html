<style type="text/css">
	#materialcontainer > div[ui-view] {
		height: 100%;
	}

	.container.content {
		overflow-x: hidden;
	}
</style>

<div class="seatmap">

	<div class="seatmap-view-header material-depth-1" ng-if="vm.showOccupancy">

		<button class="wfm-btn return-button pull-left" ng-click="vm.toggle()">
			<i class="mdi mdi-reply"></i>
		</button>

		<span ng-click="vm.isDatePickerOpened = false" class="turn-off-datepicker"></span>
		<div class="seatmap-view-datepicker">
			<button class="wfm-btn wfm-btn-invis-primary pull-left" ng-class="{'button-active':vm.isDatePickerOpened}" ng-click="vm.isDatePickerOpened = !vm.isDatePickerOpened">
				<i class="mdi mdi-calendar"></i>
				{{vm.getDisplaySelectedDate()}}
			</button>
			<div class="date-picker">
				<datepicker ng-if="vm.isDatePickerOpened" ng-model="vm.selectedDate"
							class="wfm-datepicker material-depth-1" ng-change="vm.onChangeOfDate()">
				</datepicker>
			</div>
		</div>
	</div>

	<div class="location-breadcrumb" ng-class="{'location-breadcrumb-edit-mode':(vm.showEditor)} " ng-click="vm.isDatePickerOpened = false">
		<div>
			<span ng-if="!vm.isLoading" class="breadcrumb-inverse" ng-repeat="breadcrumb in vm.breadcrumbs">
				<span ng-class="{'location-breadcrumb-clickable': !$last}"
					  ng-click="vm.handleBreadcrumbClick(breadcrumb.Id)">{{breadcrumb.Name}}</span>
				<span class="divider" ng-if="!$last">></span>
			</span>
		</div>
		<md-divider ng-if="!vm.isLoading"></md-divider>
	</div>

	<div class="seatmap-canvas" ng-click="vm.isDatePickerOpened = false">

		<seatmap-editor ng-if="vm.showEditor"></seatmap-editor>

		<div class="wfm-block">

			<canvas id="c" ng-mouseenter="vm.scrollListen = true" ng-mouseleave="vm.scrollListen = false"></canvas>

			<div ng-show="vm.isLoading" class="seatmap-spinner">
				<md-progress-circular md-mode="indeterminate"></md-progress-circular>
			</div>

			<seatmap-right-panel show-right-panel="vm.showRightPanel" show-toggle-button="!vm.isInOccupancyMode" panel-title="vm.seatMapRightPanelTitle">

				<seatmap-occupancy-detail schedule-date="vm.selectedDate" refresh-seat-map="vm.refreshSeatMap()" ng-if="vm.showOccupancy"></seatmap-occupancy-detail>

				<seatmap-object-property roles="vm.roles" seats="vm.activeSeats" ng-if="vm.showEditor"></seatmap-object-property>

			</seatmap-right-panel>

			<div class="seatmap-bottom-bar">
				<div class="seatmap-zoom-bar">
					<button ng-class="{info:!vm.isMoveMode(),success:vm.isMoveMode()}" class="wfm-fab mini pull-left" ng-click="vm.toggleMoveMode()">
						<i class="mdi mdi-gamepad"></i>
					</button>
					<md-slider ng-model="vm.zoomData.zoomValue" min="{{vm.zoomData.min}}" max="{{vm.zoomData.max}}" step="{{vm.zoomData.step}}" ng-change="vm.zoom()" aria-label="{{vm.zoomData.zoomValue}}"></md-slider>
				</div>
			</div>
		</div>
	</div>
</div>
