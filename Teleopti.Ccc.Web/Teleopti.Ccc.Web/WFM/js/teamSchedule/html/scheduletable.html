<table class="table" ng-if="vm.scheduleVm.Schedules.length > 0" id="team-schedule">
	<thead>
		<tr class="person">
			<th class="person-name person-name-column" >
				<div class="wfm-checkbox" ng-if="vm.selectMode">
					<label>
						<input type="checkbox" ng-model="vm.toggleAllInCurrentPage" ng-change="vm.updateAllSelectionInCurrentPage(vm.toggleAllInCurrentPage)">
						<span class="wfm-checkbox-toggle"></span>
						<span class="wfm-checkbox-label person-name nowrap">{{'AgentName' | translate}}</span>
					</label>
				</div>
				<div ng-hide="vm.selectMode" class="wfm-checkbox-label person-name nowrap">{{'AgentName' | translate}}</div>
			</th>
			<th id="time-line-container" class="schedule schedule-column">
				<time-line ng-if="vm.scheduleVm.Schedules.length > 0" times="vm.scheduleVm.TimeLine.HourPoints" schedule-count="vm.scheduleVm.Schedules.length"></time-line>
			</th>
			<th class="right-border-empty"></th>
		</tr>
	</thead>
	<tbody>
		<tr ng-repeat="personSchedule in vm.scheduleVm.Schedules">
			<td class="person-name person-name-column">
				<div class="wfm-checkbox" ng-show="vm.selectMode">
					<label>
						<input type="checkbox" ng-model="personSchedule.IsSelected" ng-change="vm.updatePersonSelection(personSchedule)">
						<span class="wfm-checkbox-toggle"></span>
						<span class="wfm-checkbox-label person-name nowrap">{{personSchedule.Name}}</span>
					</label>
				</div>
				<div class="person-name nowrap" ng-hide="vm.selectMode">{{personSchedule.Name}}</div>
			</td>
			<td class="schedule schedule-column">
				<div class="relative time-line-for">
					<span class="dayoff absolute" ng-repeat="dayOff in personSchedule.DayOffs" ng-if="personSchedule.DayOffs.length > 0"
						  ng-style="{left: dayOff.StartPosition + '%', width: dayOff.Length + '%'}">
						<md-tooltip ng-if="dayOff.DayOffName !=''"> {{dayOff.DayOffName}} </md-tooltip>
					</span>
					<div class="shift" ng-repeat="shift in personSchedule.Shifts">
						<div class="layer absolute floatleft" ng-repeat="projection in shift.Projections"
							 ng-style="{left: projection.StartPosition + '%', width: projection.Length + '%', backgroundColor: projection.Color}"
							 ng-class="{overtime:projection.IsOvertime, personAbsence:projection.ParentPersonAbsences !== null, noneSelected:vm.totalSelectedProjections() == 0 && !projection.IsOvertime, 
							 hasSelected:vm.totalSelectedProjections() != 0 && !projection.IsOvertime, selected:projection.Selected, lighterBorder: projection.UseLighterBorder}"
							 ng-click="vm.ToggleProjectionSelection(projection, personSchedule, vm.selectedDate)">
							<md-tooltip>{{projection.Description}}</md-tooltip>
							<span class="hidden-for-test">{{projection.Description}}</span>
						</div>
					</div>
				</div>
			</td>
			<td></td>
		</tr>
	</tbody>
</table>
