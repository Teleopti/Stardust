<!--<script>
	document.getElementsByClassName("wfm-table").onclick = function() {
		if (this.showAdvancedSearchOption) {
			this.showAdvancedSearchOption = false;
			apply();
		}
	};
</script>-->

<div class="row">
	<div class="col-lg-12">
		<h4 translate>ManagePeople</h4>
		<p translate>Here you can search for people by name, employment number, role, contract, skill, contract schedule, part time percentage, shift bag or budget group.</p>
	</div>
</div>

<div class="row">
	<div class="col-md-4">
		<div class="input-prepend people-search">
			<i class="mdi mdi-magnify"></i>
			<input id ="simple-search" style="width: 90%" type="text" placeholder="{{'Search'|translate}}..." xplaceholder="{{'Name' | translate}},{{'EmployeeNo' | translate}},{{'Role' | translate}},{{'Skill' | translate}},{{'Contract' | translate}},{{'PersonFinderFieldOrganization' | translate}},{{'ContractSchedule' | translate}},{{'PartTimePercentage' | translate}},{{'PersonFinderFieldShiftBag' | translate}},{{'BudgetGroup' | translate}}"
				   ng-model="keyword" ng-keydown="$event.which === 13 && searchKeyword()" ng-change="validateSearchKeywordChanged()"
				   ng-click="toggleAdvancedSearchOption()" />
			<!--<div class="wfm-checkbox">
				<input type="checkbox" id="check1" checked="true"/>
				<label for="check1">
					<span class="wfm-checkbox-toggle"></span>
					<span class="wfm-checkbox-label">Include any </span>
				</label>
			</div>-->
			<span class="dropdown" tabindex="0" ng-show="isAdvancedSearchEnabled" ng-include="'advanced_search_option.html'"></span>
		</div>
	</div>
</div>

<div class="wrapper row">
	<table class="wfm-table material-depth-1 table-striped table-condensed table-hover people-list">
		<thead>
			<tr>
				<th>{{'FirstName' | translate}} </th>
				<th>{{'LastName' | translate}}</th>
				<th>{{'Team' | translate}}</th>
				<th>{{'Email' | translate}}</th>
				<th>{{'EmployeeNo' | translate}}</th>
				<th ng-repeat="column in optionalColumns">{{column}}</th>
				<th>{{'TerminalDate' | translate}}</th>
			</tr>
		</thead>
		<tfoot>
			<tr>
				<td colspan="{{6+optionalColumns.length}}">
					<div class="pagination pull-right">
						<ul>
							<li class="pagination-item" ng-class="{disabled: currentPageIndex == 1}">
								<a href="" ng-click="prevPage()"><i class="mdi mdi-chevron-double-left"></i>{{'RepViewerPreviousPage'| translate}}</a>
							</li>
							<li class="pagination-item" ng-repeat="n in range(totalPages)"
								ng-class="{active: n == currentPageIndex}"
								ng-click="setPage()">
								<a href="" ng-bind="n">1</a>
							</li>
							<li class="pagination-item" ng-class="{disabled: currentPageIndex == totalPages}">
								<a href="" ng-click="nextPage()">{{'RepViewerNextPage'| translate}} <i class="mdi mdi-chevron-double-right"></i></a>
							</li>
						</ul>
					</div>
				</td>
			</tr>
		</tfoot>
		<tbody>
			<tr class="person" ng-repeat="person in searchResult" ng-click="toggleModal()">
				<td class="first-name">{{person.FirstName}}</td>
				<td>{{person.LastName}}</td>
				<td>{{person.Team}}</td>
				<td>{{person.Email}}</td>
				<td>{{person.EmploymentNumber}}</td>
				<td ng-repeat="optionalColumnValue in person.OptionalColumnValues">
					{{optionalColumnValue.Value}}
				</td>
				<td>{{person.LeavingDate}}</td>
			</tr>
		</tbody>
	</table>
</div>

<script type="text/ng-template" id="advanced_search_option.html">
	<!--<i id="advanced-search" class="mdi mdi-menu-down" ng-click="toggleAdvancedSearchOption()"></i>-->
	<style type="text/css">
		* {
			box-sizing: border-box;
		}

		.advanedContainer {
			width: auto;
			padding: 20px 20px;
			margin-top: -15px;
			margin-left: 20px;
			overflow: hidden;
			position: absolute;
			background-color: white;
		}

		.wfm-form-input {
			position: relative;
			margin-top: 15px;
			margin-bottom: 22px;
		}

		.advancedInput {
			font-size: 18px;
			padding: 10px 10px 10px 5px;
			margin-right: 10px;
			display: block;
			height: 30px;
			border: none;
			border-bottom: 1px solid #99d6ff;
		}

			.advancedInput:focus {
				outline: none;
			}

		input[type=text] {
			height: 30px;
		}

		.advancedLabel {
			color: #999;
			font-size: 18px;
			font-weight: normal;
			position: absolute;
			pointer-events: none;
			left: 5px;
			top: -5px;
			transition: 0.2s ease all;
			-moz-transition: 0.2s ease all;
			-webkit-transition: 0.2s ease all;
			-ms-transition: 0.2s ease all;
			-o-transition: 0.2s ease all;
		}

		.advancedInput:focus ~ label, .advancedInput:valid ~ label {
			top: -20px;
			font-size: 14px;
			color: #ec38a3;
		}
	</style>

	<div class="advanedContainer material-depth-2" ng-cloak ng-show="showAdvancedSearchOption">
		<div class="wfm-form-input">
			<input class="advancedInput" id="criteria-first-name" type="text" ng-model="advancedSearchForm.FirstName" ng-keydown="$event.which === 13 && advancedSearch()" required />
			<label class="advancedLabel">{{'FirstName' | translate}}</label>
		</div>
		<div class="wfm-form-input">
			<input class="advancedInput" id="criteria-last-name" type="text" ng-model="advancedSearchForm.LastName" ng-keydown="$event.which === 13 && advancedSearch()" required />
			<label class="advancedLabel">{{'LastName' | translate}}</label>
		</div>
		<div class="wfm-form-input">
			<input class="advancedInput" id="criteria-employment-number" type="text" ng-model="advancedSearchForm.EmploymentNumber" ng-keydown="$event.which === 13 && advancedSearch()" required />
			<label class="advancedLabel">{{'EmployeeNo' | translate}}</label>
		</div>
		<div class="wfm-form-input">
			<input class="advancedInput" id="criteria-organization" type="text" ng-model="advancedSearchForm.Organization" ng-keydown="$event.which === 13 && advancedSearch()" required />
			<label class="advancedLabel">{{'PersonFinderFieldOrganization' | translate}}</label>
		</div>
		<div class="wfm-form-input">
			<input class="advancedInput" id="criteria-role" type="text" ng-model="advancedSearchForm.Role" ng-keydown="$event.which === 13 && advancedSearch()" required />
			<label class="advancedLabel">{{'Role' | translate}}</label>
		</div>
		<div class="wfm-form-input">
			<input class="advancedInput" id="criteria-contract" type="text" ng-model="advancedSearchForm.Contract" ng-keydown="$event.which === 13 && advancedSearch()" required />
			<label class="advancedLabel">{{'Contract' | translate}}</label>
		</div>
		<div class="wfm-form-input">
			<input class="advancedInput" id="criteria-contract-schedule" type="text" ng-model="advancedSearchForm.ContractSchedule" ng-keydown="$event.which === 13 && advancedSearch()" required />
			<label class="advancedLabel">{{'ContractSchedule' | translate}}</label>
		</div>
		<div class="wfm-form-input">
			<input class="advancedInput" id="criteria-shift-bag" type="text" ng-model="advancedSearchForm.ShiftBag" ng-keydown="$event.which === 13 && advancedSearch()" required />
			<label class="advancedLabel">{{'PersonFinderFieldShiftBag' | translate}}</label>
		</div>
		<div class="wfm-form-input">
			<input class="advancedInput" id="criteria-part-time-percentage" type="text" ng-model="advancedSearchForm.PartTimePercentage" ng-keydown="$event.which === 13 && advancedSearch()" required />
			<label class="advancedLabel">{{'PartTimePercentage' | translate}}</label>
		</div>
		<div class="wfm-form-input">
			<input class="advancedInput" id="criteria-skill" type="text" ng-model="advancedSearchForm.Skill" ng-keydown="$event.which === 13 && advancedSearch()" required />
			<label class="advancedLabel">{{'Skill' | translate}}</label>
		</div>
		<div class="wfm-form-input">
			<input class="advancedInput" id="criteria-badge-group" type="text" ng-model="advancedSearchForm.BudgetGroup" ng-keydown="$event.which === 13 && advancedSearch()" required />
			<label class="advancedLabel">{{'BudgetGroup' | translate}}</label>
		</div>
		<div class="wfm-form-input">
			<input class="advancedInput" id="criteria-note" type="text" ng-model="advancedSearchForm.Note" ng-keydown="$event.which === 13 && advancedSearch()" required />
			<label class="advancedLabel">{{'Note'|translate}}</label>
		</div>
		<button id="go-advanced-search" class="wfm-btn wfm-btn-primary float-right" ng-click="advancedSearch()">SEARCH</button>
	</div>
</script>