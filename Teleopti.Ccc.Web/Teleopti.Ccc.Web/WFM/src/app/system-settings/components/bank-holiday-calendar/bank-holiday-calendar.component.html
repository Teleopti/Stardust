<div class="bank-holiday-settings panel material-depth-1 full-padding border">
	<h2>
		<i nz-icon type="calendar" theme="outline"></i> {{ 'BankHolidayCalendars' | translate }}
		<button
			nz-button
			nz-tooltip
			*ngIf="!isAddingNewCalendar && !isEdittingCalendar"
			nzType="primary"
			nzShape="circle"
			nzSize="large"
			[nzTitle]="'AddNewBankHolidayCalendar' | translate"
			(click)="startAddNewBankCalender()"
			class="add-bank-holiday-calendar-icon pull-right"
		>
			<i nz-icon type="plus" theme="outline"></i>
		</button>
	</h2>

	<nz-divider></nz-divider>

	<bank-holiday-calendar-add
		*ngIf="isAddingNewCalendar"
		[bankHolidayCalendarsList]="bankHolidayCalendarsList"
		[exitAddNewBankCalendar]="exitAddNewBankCalendar"
	></bank-holiday-calendar-add>

	<bank-holiday-calendar-edit
		*ngIf="isEdittingCalendar"
		[edittingCalendar]="edittingCalendar"
		[bankHolidayCalendarsList]="bankHolidayCalendarsList"
		[exitEdittingBankCalendar]="exitEdittingBankCalendar"
	>
	</bank-holiday-calendar-edit>

	<div *ngIf="!isAddingNewCalendar && !isEdittingCalendar" class="bank-holiday-calendar-list">
		<nz-collapse *ngIf="bankHolidayCalendarsList.length > 0">
			<nz-collapse-panel *ngFor="let calendar of bankHolidayCalendarsList" [nzHeader]="calendar.Name">
				<nz-tabset *ngIf="calendar.Years.length > 0">
					<nz-tab [nzTitle]="year.Year" *ngFor="let year of calendar.Years">
						<nz-list>
							<nz-list-item class="bank-holiday-calendar-date-item relative">
								<span class="inline-block"> {{ 'Date' | translate }}</span>
								<span class="inline-block"> {{ 'Description' | translate }}</span>
							</nz-list-item>
						</nz-list>
						<nz-list
							[nzDataSource]="year.Dates"
							[nzRenderItem]="date"
							class="bank-holiday-calendar-date-list"
						>
							<ng-template #date let-date>
								<nz-list-item class="bank-holiday-calendar-date-item relative">
									<span class="inline-block">
										<span class="bank-holiday-date-text"> {{ date.Date }} </span>
									</span>
									<span class="inline-block">
										<span class="bank-holiday-description">{{ date.Description }} </span>
									</span>
								</nz-list-item>
							</ng-template>
						</nz-list>
					</nz-tab>
				</nz-tabset>

				<nz-alert
					*ngIf="calendar.Years.length == 0"
					nzType="warning"
					[nzMessage]="'ThisCalendarHasNoDatesAdded' | translate"
				></nz-alert>

				<div class="con-flex operation-buttons">
					<button nz-button nzType="danger" (click)="confirmDeleteHolidayCanlendar(calendar)">
						{{ 'Delete' | translate }}
					</button>
					<button nz-button nzType="primary" (click)="startEditBankCalendar(calendar)">
						{{ 'Edit' | translate }}
					</button>
				</div>
			</nz-collapse-panel>
		</nz-collapse>
	</div>

	<nz-modal
		*ngIf="isDeleteCalendarModalVisible && selectedCalendar"
		[(nzVisible)]="isDeleteCalendarModalVisible"
		[nzTitle]="'AreYouSureToDeleteThisBankHolidayCalendar' | translate"
		[nzContent]="selectedCalendar.Name"
		[nzOkText]="'Delete' | translate"
		nzOkType="danger"
		[nzCancelText]="'Cancel' | translate"
		(nzOnOk)="deleteHolidayCalendar()"
		(nzOnCancel)="closeDeleteHolidayCalendarModal()"
	></nz-modal>
</div>
