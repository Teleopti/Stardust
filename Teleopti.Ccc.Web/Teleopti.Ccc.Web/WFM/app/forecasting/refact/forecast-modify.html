<div class="view-header with-desc">
  <div class="view-title">
    <h1><i class="mdi mdi-chart-line"></i> {{vm.selectedWorkload.Name}}</h1>
    <p>Select days in the chart to modify or compare forecasts before publishing</p>
  </div>
</div>

<!--Override/Campaign-->
<form ng-submit="vm.applyCampaign()">
  <div class="con-row animate-show" ng-show="vm.campaignPanel" ng-cloak>
    <div class="con-flex">
      <div class="panel material-depth-1">
        <div class="sub-header">
          <h2>Campaign</h2>
        </div>
        <div class="con-row">
          <div class="con-flex">
            <p>Change the selected days volumes by a certain percentage</p>
            <label for="filter" class="input-icon">
              <i class="mdi mdi-percent">
                <input type="number" required autofocus autocomplete="off" min="1" ng-model="vm.campaignPercentage" placeholder="Campaign value" >
              </i>
            </label>
          </div>
        </div>
        <div class="con-footer">
          <button class="wfm-btn wfm-btn-invis-default" ng-click="vm.modifyPanelHelper()">Cancel</button>
          <button type="submit" class="wfm-btn wfm-btn-invis-primary" >Apply</button>
        </div>
      </div>
    </div>
  </div>
</form>

<form ng-submit="vm.applyOverride(form)" class="wfm-form">
  <div class="con-row animate-show" ng-show="vm.overridePanel" ng-cloak>
    <div class="con-flex">
      <div class="panel material-depth-1">
        <div class="sub-header">
          <h2>Override</h2>
        </div>
        <div class="con-row">
          <div class="con-flex">
            <div class="form-input-wrap">
              <label for="nameId">Calls:</label>
              <input type="number" ng-model="form.overrideTasksValue" name="" value="">
            </div>

            <div class="form-input-wrap">
              <label for="nameId">TalkTime:</label>
              <input type="number" ng-model="form.overrideTalkTimeValue" name="" value="">
            </div>

            <div class="form-input-wrap">
              <label for="nameId">ACW:</label>
              <input type="number" ng-model="form.overrideAfterCallWorkValue" name="" value="">
            </div>
          </div>
        </div>
        <div class="con-footer">
          <button class="wfm-btn wfm-btn-invis-default" ng-click="vm.modifyPanelHelper()">Cancel</button>
          <button type="submit" class="wfm-btn wfm-btn-invis-primary">Apply</button>
        </div>
      </div>
    </div>
  </div>
</form>


<!-- Chart -->
<div class="con-row">
  <div class="con-flex">
    <div class="panel material-depth-1">
      <div class="sub-header">
        <h2>Current forecast</h2>
        <div class="head-actions panel-menu">
          <div tabindex=0 class="context-menu card-context" ng-click="vm.loadChart(vm.selectedWorkload.ChartId, vm.selectedWorkload.Days)">
            <i class="mdi mdi-sync" ></i>
            <md-tooltip>Refresh chart</md-tooltip>
          </div>
          <div tabindex=0 class="context-menu card-context wfm-badge-wrapper">
            <i class="mdi mdi-dots-vertical"></i>
            <wfm-badge badge-model="vm.selectedDayCount.length/8" status="'notice-success'"> </wfm-badge>
            <span class="context-menu-left">
              <ul class="wfm-list">
                <li ng-click="vm.modifyPanelHelper(true)">Add override</li>
                <li ng-click="vm.modifyPanelHelper(false)">Add campaign</li>
                <li ng-click="vm.loadChart(vm.selectedWorkload.ChartId, vm.selectedWorkload.Days)">Clear selection</li>
              </ul>
            </span>
            <md-tooltip>Modify selection</md-tooltip>
          </div>
        </div>
      </div>
      <div class="con-row">
        <div class="con-flex">
          <forecast-chart chart-id="vm.selectedWorkload.ChartId" selectable="true" refresh="vm.loadChart" on-click="vm.pointClick"> </forecast-chart>
        </div>
      </div>
      <div class="con-footer">
        <button class="wfm-btn wfm-btn-invis-default">Compare</button>
        <button class="wfm-btn wfm-btn-invis-primary">Publish</button>
      </div>
    </div>
  </div>
</div>
