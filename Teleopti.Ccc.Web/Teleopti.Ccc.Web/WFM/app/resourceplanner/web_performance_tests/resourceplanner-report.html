<!-- this class is used for asserts in tests -->
<div class="view-header with-fab with-desc">
	<div class="view-title">
		<h1> <i class="mdi mdi-calendar"></i> {{'SchedulingResult'|translate}}: {{planningPeriod.StartDate | amDateFormat:"L"}} - {{planningPeriod.EndDate
			| amDateFormat:"L"}}</h1>
		<p>{{scheduledAgents}}/{{totalAgents}} {{'AgentsSuccessfullyScheduled'|translate}}</p>
	</div>
</div>
<div class="panel material-depth-1 test-scheduling-result">
	<div class="sub-header">
		<h2>{{'Schedule'|translate}}</h2>
	</div>
	<div class="con-row demo-outline">
		<div class="con-flex result-container" ng-class="{grayoutContainer: optimizationHasBeenRun}">
			<div class="legends" ng-show="!optimizeRunning && isDataAvailable" layout="column">
				<ul>
					<li>
						<div class="legend critUnderstaffed"></div>
						{{'CriticalUnderstaffingColon' | translate}}
					</li>
					<li>
						<div class="legend understaffed"></div>
						{{'UnderstaffingColon'|translate}}
					</li>
					<li>
						<div class="legend overstaffed"></div>
						{{'OverstaffingColon'|translate}}
					</li>
					<li>
						<div class="legend closed"></div>
						{{'Closed'|translate}}
					</li>
				</ul>
			</div>
			<div class="grid-scroll-wrap">
				<md-progress-linear ng-show="optimizeRunning" md-mode="indeterminate"></md-progress-linear>
				<div ng-show="optimizeRunning" class="wfm-block material-depth-1">{{'OptimizingIntraday'|translate}}</div>
				<table ng-hide="dates.length > 0" class="overview" ng-show="!optimizeRunning">
					<tr ng-repeat="(index, subnode) in dayNodes | limitTo:1 ">
						<th></th>
						<th class="datehead" ng-repeat="datenode in subnode.SkillDetails">
							<p>{{datenode.Date | amDateFormat:"DD/MM" }}</p>
						</th>
					</tr>
					<tr ng-repeat="(index, subnode) in dayNodes">

						<td class="skillname">{{ subnode.SkillName }}</td>
						<td ng-repeat="node in subnode.SkillDetails" ng-class="{weekend: node.weekend}">
							<div class="resourceplanner-box" ng-class="{understaffed:node.ColorId==1,critUnderstaffed:node.ColorId==2,overstaffed:node.ColorId==3, closed: node.ColorId==4}">
								<div class="floater-box">
									<p>{{node.Date | amDateFormat:"L"}}</p>
									<p>{{'RelativeDifference' | translate}}: {{node.parseDif}}%</p>
								</div>
							</div>
						</td>
					</tr>
				</table>
			</div>
		</div>
	</div>
	<div class="con-footer">
		<button class="wfm-btn wfm-btn-invis-default" ng-show="hasIssues" ng-click="accordionToggle2 = !accordionToggle2;">{{'IssuesText' | translate}}</button>
		<button class="wfm-btn wfm-btn-invis-default" ng-click="intraOptimize()" ng-class="{'wfm-btn-invis-disabled': optimizeRunning}"
		 ng-show="optimizeDayOffIsEnabled()" ng-disabled="optimizeRunning">{{'IntraOptimize'|translate}}</button>
	</div>
</div>
<div class="panel material-depth-1" ng-if="accordionToggle2">
	<div ui-grid="gridOptions" ui-grid-auto-resize ui-grid-disable-animation class="grid"></div>
</div>