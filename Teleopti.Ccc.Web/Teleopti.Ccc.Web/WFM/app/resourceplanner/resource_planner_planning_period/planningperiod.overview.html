<div class="view-header with-fab with-desc">
	<div class="view-title">
		<h1><i class="mdi mdi-calendar"></i> {{'PlanningPeriods' | translate}}</h1>
		<p translate>CreateAndManagePlanningPeriods</p>
	</div>
	<div class="fab-wrapper">
		<button ng-click="vm.startNextPlanningPeriod()" class="wfm-fab material-depth-1 grow-out">
				<i class="mdi mdi-plus"></i>
				<md-tooltip>
					Auto Create The Next Planning Period
				</md-tooltip>
			</button>
	</div>
</div>
<div class="con-row">
	<div class="con-flex">
		<div class="wfm-grid">
			<div class="grid-card" ng-repeat="p in vm.planningPeriods" ng-init="show=[]">
				<div class="list-content">
					<div class="inner-card">
						<i title="Scheduled" ng-if="p.State == 'Scheduled'" class="card-context card-dot mdi mdi-calendar-check"></i>
						<i title="Scheduled" ng-if="p.State !== 'Scheduled'" class="card-context card-dot-undone mdi mdi-calendar-remove"></i>
						<span>{{p.StartDate | amDateFormat:"L"}}-{{p.EndDate | amDateFormat:"L"}}</span>
						<!-- <button class="wfm-btn wfm-btn-default" ng-click="show[$index]=!show[$index]">Validation{{$index}}</button> -->
					</div>
					<div class="open-card" ng-show="show[$index]">
						<ol>Validated Error
							<li ng-repeat="msg in p.ValidationResult.InvalidResources">
								{{msg.ResourceName}}: {{msg.ValidationErrors[0]}}
							</li>
						</ol>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
</div>

<!-- {{vm.planningPeriods}} -->
