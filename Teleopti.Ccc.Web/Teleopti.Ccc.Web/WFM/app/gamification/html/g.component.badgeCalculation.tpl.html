<div>
    <div class="run-calculation">
        <div>{{'PickADateRangeToStartBadgeCalculation'|translate}}</div>
        <div class="con-fluid-row">
            <div class="con-fluid-flex align-self-center">
                <div class="form-input-wrap">
                    <wfm-date-range-picker ng-model="$ctrl.dateRange" custom-validate="$ctrl.validate($ctrl.dateRange)" popup-mode="true"></wfm-date-range-picker>
                </div>
            </div>
            <div class="con-fluid-flex align-self-center ">
                <button ng-disabled="!$ctrl.allowCalcalution()" class="wfm-btn wfm-btn-primary " ng-click="$ctrl.calculate() ">{{'Start'|translate}}</button>
                <div class="period-error-box ">
                    <span class="text-danger " ng-show="$ctrl.intersected ">
                        {{'BadgeCalculationIsAlreadyInProgressWithinTheSelectedPeriod'|translate}}
                    </span>
                </div>
            </div>
        </div>
    </div>
    <div class="gamification-table">
        <header>
            <div class="period">{{'Period'|translate}}</div>
            <div class="owner">{{'Owner'|translate}}</div>
            <div class="started">{{'TimeStarted'|translate}}</div>
            <div class="status">{{'Status'|translate}}</div>
        </header>
        <div ng-repeat="job in $ctrl.jobs" class="table-row">
            <div class="job">
                <span>{{job.startDate|date:$ctrl.dateFormat}}--{{job.endDate|date:$ctrl.dateFormat}}</span>
            </div>
            <div class="owner">
                <span>{{job.owner}}</span>
            </div>
            <div class="started">
                <span>{{job.startingTime | date: $ctrl.dateTimeFormat}}</span>
            </div>
            <div class="status">
                <div ng-if="job.status=='inprogress'">
                    <span>{{'InProgress'|translate}}</span>
                </div>
                <div ng-if="job.status=='failed'">
                    <i class="mdi mdi-alert-octagon"></i>
                    <span>{{'Failed'|translate}}</span>
                    <span ng-if="job.errorMsg">&nbsp;-&nbsp;{{ job.errorMsg }}</span>
                </div>
                <div ng-if="job.status=='finished'">
                    <span>{{'Finished'|translate}}</span>
                </div>
            </div>
        </div>
    </div>
</div>