<div class="wfm-block">
	<label for="locationFilterId" class="input-prepend">
		<i class="mdi mdi-filter-outline"></i>
		<input type="text" ng-model="searchLocations" id="locationFilterId" placeholder="{{ 'FilterLocations' | translate }}" />
		<md-tooltip>{{ 'FilterLocations' | translate }}</md-tooltip>
	</label>
</div>
<div class="tree">
	<div ui-tree data-drag-enabled="false">
		<ol ui-tree-nodes="" ng-model="vm.locations" class="tree-line" toggle-focus>
			<li ng-repeat="item in vm.locations | filter:searchLocations" ui-tree-node ng-include=" 'location_renderer.html' "></li>
		</ol>
	</div>
</div>
<script type="text/ng-template" id="location_renderer.html">
	<div class="tree-toggle-group">
		<div class="toggle-handle" ng-class="{open: item.show}" ng-click="item.show = !item.show"><i ng-show="item.Children.length > 0" class="mdi mdi-chevron-right"></i></div>
		<div ui-tree-handle ng-class="{selected: item.selected}" ng-click="vm.toggleLocationSelection(item)">
			<span ng-bind="vm.getLocationDisplayText(item)"></span>
			<span class="tree-line-right"><i class="mdi mdi-check"></i></span>
		</div>
	</div>
	<ol ui-tree-nodes="" ng-model="item.Children" ng-show="item.show">
		<li ng-repeat="item in item.Children | filter:searchLocations" ui-tree-node ng-include=" 'location_renderer.html' "></li>
	</ol>
</script>
