<div class="view-header with-fab with-desc">
	<div class="view-title">
		<div class="pull-left">
			<h1>
				<i class="mdi mdi-alarm"></i> {{'RTA'|translate}}
			</h1>
		</div>
		<div class="rta-top-buttons-wrapper pull-left">
			<span>
					<button class="wfm-btn wfm-btn-primary rta-default-cursor">{{'Dashboard'|translate}}</button>
					<button class="wfm-btn wfm-btn-default select-skill" ng-click="vm.goToAgentsView()">{{'Agents'|translate}}</button>
				</span>
		</div>
	</div>
	<div class="fab-wrapper">
		<button class="wfm-fab  material-depth-1 open" ng-cloak ng-class="{'invisible': !vm.displayGoToAgents(), 'grow-out': vm.displayGoToAgents()}" ng-click="vm.goToAgents()">
				<i class="mdi mdi-arrow-right"></i>
				<md-tooltip>{{'Open'|translate}}</md-tooltip>
			</button>
	</div>
</div>

<div class="con-row">
	<div class="con-flex">
		<div class="panel material-depth-1 rta-filter-panel">
			<skill-picker skills="vm.skills" skill-areas="vm.skillAreas" item-to-return="vm.filterOutput" preselected-item="vm.skillPickerPreselectedItem"></skill-picker>
		</div>
	</div>
</div>



<div class="con-row" ng-if="vm.noSiteCards">
	<div class="con-flex">
		<div class="panel material-depth-1">
			<div class="con-row">
				<div class="con-flex">
					{{vm.skillSelected ? 'NoSitesFound' : 'NoAccessToSites' | translate}}
				</div>
			</div>
		</div>
	</div>
</div>

<div class="con-row demo-outline">
	<div class="con-flex">
		<div class="wfm-chip-wrap">
			<span class="wfm-chip" style="cursor:default;">
				<span class="chip-handle">
				<i class="mdi mdi-alert-circle"></i>
				</span>
			<span class="chip-text">{{'TotalAgentsInAlarmInBusinessUnit'|translate}}: <b>{{vm.totalAgentsInAlarm}}</b></span>
			</span>
		</div>


		<rta-card class="site" ng-repeat="card in vm.siteCards" ng-open="card.isOpen">
			<rta-card-header ng-attr-styles="border-left-color: {{card.Color}};">
				<div class="rta-card-content-wrapper flex">
					<div class="rta-site-name-container"><b ng-attr-data-max="{{card.AgentsCount}}" ng-attr-data-value="{{card.InAlarmCount}}">{{card.Name}}</b></div>
					<div class="rta-alarm-values-container">{{'InAlarmInSite'|translate}}:
						<b>{{card.InAlarmCount}}</b>
					</div>
					<div ng-click="$event.stopPropagation(); vm.selectTeamOrSite(card);" class="rta-icons-container"><i class="mdi" ng-class="{'mdi-check': card.isSelected, 'mdi-plus':!card.isSelected}"></i>
						<md-tooltip>{{card.isSelected ? "Unselect site" : "Select site"}}</md-tooltip>
					</div>
					<a href="{{card.href}}" class="rta-icons-container" style="text-decoration: none;">
						<div><i class="mdi mdi-arrow-right"></i>
							<md-tooltip>{{'OpenSite'|translate}}</md-tooltip>
						</div>
					</a>
				</div>
			</rta-card-header>
			<rta-card-body ng-click="$event.stopPropagation();">
				<div class="con-row">
					<div class="con-flex">
						<div class="wfm-grid" class="animate-show">
							<div class="grid-card-mini team" ng-repeat="team in card.teams">
								<div class="list-content">
									<div class="list-header" ng-click="vm.selectTeamOrSite(team)" ng-class="team.Color">
										<div class="flex">
											<h1 ng-attr-data-max="{{team.AgentsCount}}" ng-attr-data-value="{{team.InAlarmCount}}" class="rta-team-name-container">{{team.Name}}</h1>
											<i class="mdi pull-right flex-1" ng-class="{'mdi-check': team.isSelected, 'mdi-plus': !team.isSelected}"></i>
											 <md-tooltip>{{team.isSelected ? "Unselect team" : "Select team"}}</md-tooltip>
										</div>
										<div class="subtext"><span class="full-padding" ng-attr-data-value="{{team.InAlarmCount}}">{{'InAlarm'|translate}}:
										<b>{{team.InAlarmCount}}</b>
									</span></div>
									</div>
									<div class="list-header-content">
										<a type="button" class="wfm-btn wfm-btn-invis-primary pull-right" href="{{team.href}}" style="text-decoration: none;">Open</a>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</rta-card-body>
		</rta-card>


	</div>
</div>
<div class="con-footer">

</div>