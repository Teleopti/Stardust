<rta-card class="site" ng-repeat="card in $ctrl.siteCards" ng-open="card.isOpen" ng-click="card.fetchTeamData(card)">
    <rta-card-header ng-attr-styles="border-left-color: {{card.site.Color}};">
        <div class="rta-card-content-wrapper flex">
            <div class = "rta-site-name-container"><b ng-attr-data-max="{{card.site.AgentsCount}}" ng-attr-data-value="{{card.site.InAlarmCount}}">{{card.site.Name}}</b></div>
            <div class="rta-alarm-values-container">{{'InAlarm'|translate}}:
                <b>{{card.site.InAlarmCount}}</b>
            </div>
            <div ng-click="$event.stopPropagation(); $ctrl.selectItem(card);" class="rta-icons-container"><i class="mdi" ng-class="{'mdi-check': card.isSelected, 'mdi-plus':!card.isSelected}"></i>
                <md-tooltip>{{card.isSelected ? "Unselect site" : "Select site"}}</md-tooltip>
            </div>
            <a ui-sref="{{$ctrl.agentsState}}" class="rta-icons-container" style="text-decoration: none; ">
                <div><i class="mdi mdi-arrow-right"></i>
                    <md-tooltip>{{'OpenSite'|translate}}</md-tooltip>
                </div>
            </a>
        </div>
    </rta-card-header>
    <rta-card-body ng-click="$event.stopPropagation();">
        <div class="con-row">
            <div class="con-flex">
                <div class="wfm-grid" class="animate-show">
                    <div class="grid-card-mini team" ng-repeat="team in card.teams">
                        <div class="list-content">
                            <div class="list-header" ng-click="$ctrl.selectItem(team)" ng-class="team.Color">
                                <div class="flex">
                                    <h1 ng-attr-data-max="{{team.AgentsCount}}" ng-attr-data-value="{{team.InAlarmCount}}" class="rta-team-name-container">{{team.Name}}</h1>
                                    <i class="mdi pull-right flex-1" ng-class="{'mdi-check': team.isSelected, 'mdi-plus': !team.isSelected}"></i>
                                     <md-tooltip>{{team.isSelected ? "Unselect team" : "Select team"}}</md-tooltip>
                                </div>
                                <div class="subtext"><span class="full-padding" ng-attr-data-value="{{team.InAlarmCount}}">{{'InAlarm'|translate}}:
								<b>{{team.InAlarmCount}}</b>
                            </span></div>
                            </div>
                            <div class="list-header-content">
                                <button class="wfm-btn wfm-btn-invis-primary pull-right" ng-click="$ctrl.goToAgentsForTeam(team)">Open</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </rta-card-body>
</rta-card>