<!DOCTYPE html>
<html ng-app="wfm">
<head lang="en">
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>WFM</title>
	<link rel="stylesheet" href="vendor/MaterialDesignIcons/css/materialdesignicons.min.css">
	<link id="themeModules" rel="stylesheet" href="">
	<link id="themeStyle" rel="stylesheet" href="">
	<style>.loader{display:inline-block;font-size:120px;animation:2s rotate infinite linear;width:1em;height:1em}.loader circle{fill:transparent;stroke:#09f;stroke-width:.07em;stroke-dasharray:2.3525em .4705em;animation:1.3s strokeDashArray infinite linear,24s infinite linear}@keyframes rotate{from{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes strokeDashArray{10%,from{stroke-dasharray:2.3525em .4705em;stroke-dashoffset:0}50%{stroke-dasharray:.001em 2.825em;stroke-dashoffset:-2.826em}60%{stroke-dasharray:.001em 2.825em}to{stroke-dasharray:2.3525em .4705em;stroke-dashoffset:-2.826em}}.pulse{z-index:9999991;margin:35vh auto 0;text-align:center}.backdrop{position:fixed;z-index:999999;width:100%;height:100%;background:#fff}
	</style>
</head>
<body ng-show="isAuthenticated" ng-cloak ng-controller="MainController as main">
	<div class="backdrop" ng-if="!main.styleIsFullyLoaded">
	<div class="pulse">
	 <div class="loader">
	   <svg width="1em" height="1em"><circle cx="0.5em" cy="0.5em" r="0.45em"/></svg>
	 </div>
	</div>
	</div>
<div id="nav" ng-include="'html/nav.html'" class="material-depth-1 navbar navbar-default navbar-static-top " role="navigation"></div>
<div class="layout-container">
	<div id="leftsidenav" class="sidenav material-depth-1 left" ng-class="{'is-hidden':toggleLeftSide}">
		<div ng-include="'html/left-sidenav.html'"></div>
	</div>
	<div id="lefttoogle" class="sidenav-toggle">
		<div class="sidenav-wrapper left">
			<input type="checkbox" id="nav-left" ng-model="toggleLeftSide"/>
			<label for="nav-left">
				<i class="mdi" ng-class=" {'mdi-menu':toggleLeftSide, 'mdi-close':!toggleLeftSide}"></i>
			</label>
		</div>
	</div>
	<div id="materialcontainer" class="container content">
		<div ui-view></div>
		<wfm-notice notices="$parent.wfmNotices"></wfm-notice>
	</div>

</div>

	<script type="text/javascript">
		function iAmCalledFromFatClient() {
			removeElements();
			expandMaterialContainer();
			changeToClassicTheme();
		};

		var removeElements = function() {
			var elementsToRemove = [
				document.getElementById('nav'),
				document.getElementById('leftsidenav'),
				document.getElementById('notice'),
				document.getElementById('lefttoogle')
			];

			elementsToRemove.forEach(function(elmt) {
				if (elmt) elmt.style.display = 'none';
			});
		};

		var expandMaterialContainer = function() {
			var materialcontainer = document.getElementById('materialcontainer');
			if (materialcontainer) {
				materialcontainer.style["margin-top"] = '0';
				materialcontainer.style.height = '100vh';
			}
		};

		var changeToClassicTheme = function() {
			if (angular.element(document.getElementById('darkTheme')).scope() == null || angular.element(document.getElementById('overlay')).scope() == null) {
				return;
			} else {
				angular.element(document.getElementById('darkTheme')).scope().toggleTheme('classic');
				angular.element(document.getElementById('overlay')).scope().toggleOverlay(false);
			}
		};

	</script>
	<!-- build:template
	<% if (environment === 'dev') { %>
	<script src="dist/modules.js"></script>
	<script src="dist/templates.js"></script>
	<script src="dist/main.min.js"></script>
	<% } else { %>
	<script src="dist/modules.min.js"></script>
	<script src="dist/templates.min.js"></script>
	<script src="dist/main.min.js"></script>
	<% } %>
	/build -->

	<!--dummy links to disable IE default alt-key shortcuts-->
	<div class="shortcut-trick-ie">
		<a href="" accesskey="a"></a>
		<a href="" accesskey="c"></a>
		<a href="" accesskey="e"></a>
		<a href="" accesskey="f"></a>
		<a href="" accesskey="h"></a>
		<a href="" accesskey="t"></a>
		<a href="" accesskey="v"></a>
		<a href="" accesskey="x"></a>
	</div>
</body>

</html>
