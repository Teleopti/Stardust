
/*****************************
 *    Organization Picker    *
 *****************************/

organization-picker {
	md-select-value {
		color: $text-color-standard;
	}

	md-select-value.md-select-placeholder {
		color: $text-color-muted;
	}

	._off-screen {
		visibility: hidden;
		position: absolute;
		left: -9999px;
	}

	.orgpicker-wrapper {
		$NG-MATERIAL-DEFAULT: rgba(0,0,0,0.12);
		$DEFAULT-WIDTH: 12em;
		cursor: pointer;

		.md-select-value {
			width: $DEFAULT-WIDTH;
			border-bottom-color: $NG-MATERIAL-DEFAULT;
			outline: none !important;
			line-height: 20px;
			min-height: 20px !important;
			padding-top: 8px;

			&:focus {
				border-bottom: 1px solid $blue-100;
			}

			.selected-text {
				white-space: nowrap;
			}
		}

		.none-selected {
			color: $text-color-muted;
			border-bottom-color: $NG-MATERIAL-DEFAULT;
		}
	}
}

.orgpicker-menu {
	$HEADER-HEIGHT: 50px;
	$REPEATED-ITEM-HEIGHT: 40px;
	$NUM-OF-VISIBLE-ITEMS: 7;
	$VIRTUAL-REPEAT-HEIGHT: $NUM-OF-VISIBLE-ITEMS * $REPEATED-ITEM-HEIGHT + 0.6 * $REPEATED-ITEM-HEIGHT;
	$PD: .2em;


	box-shadow: 0 2px 5px 0 rgba(0,0,0,.26);
	background-color: $white;

	._zero-height {
		height: 0;
		overflow: hidden;
	}

	.longest-name {
		padding-left: 6em;
		padding-right: 2em;
		@extend ._zero-height;
	}

	.virtual-repeat {
		height: $VIRTUAL-REPEAT-HEIGHT;
		width: 100%;

		.repeated-item {
			.match {
				background-color: $orange-400;
				border-radius: 2px;
			}

			label.clickable-area {
				cursor: pointer;
				display: block !important;
				padding: 0 1em;
				margin: 0;
			}

			.team {
				padding: 0;

				label.clickable-area {
					padding: 0 1em 0 2em;
				}
			}

			.md-button {
				align-items: inherit;
				border-radius: 0;
				cursor: pointer;
				display: block;
				margin: 0;
				text-align: left;
				text-transform: none;
				white-space: normal;
				width: 100%;
				height: 100%;
				-webkit-transition: none;
				transition: none;

				&:focus {
					background-color: rgba(158,158,158,0.2);
				}
			}

			.site-toggle {
				cursor: pointer;

				&:active, &:hover {
					background-color: rgba(158,158,158,0.26);
				}

				label {
					cursor: pointer;
				}
			}
		}

		.focused {
			background-color: rgba(158,158,158,0.2);
		}

		.md-button-toggle {
			padding: 0;
		}
		// make styleguide checkboxes receive focus
		// TODO: remove after styleguide is upgraded
		input[type='checkbox'] {
			display: inline;
			opacity: 0;
			position: absolute;
		}
	}

	.repeated-item {
		height: $REPEATED-ITEM-HEIGHT;

		md-checkbox.md-checked .md-icon {
			background-color: $blue-300;
			border-color: $blue-300;
		}

		.wfm-checkbox {
			padding: 0px;
			width: auto;

			.wfm-checkbox-label {
				line-height: $REPEATED-ITEM-HEIGHT;
			}
		}

		.wfm-checkbox.indeterminate {
			.wfm-checkbox-toggle:after {
				background-color: $blue-300;
			}
		}

		.vertically-centered {
			line-height: normal;
			top: 0;
			bottom: 0;
			margin-top: auto;
			margin-bottom: auto;
		}

		.wfm-checkbox-toggle:after {
			@extend .vertically-centered;
		}
	}

	.header {
		padding: 0 $PD;
		height: $HEADER-HEIGHT;
		display: flex;
		align-items: center;

		& > i.mdi {
			flex: 0 0 auto;
			margin: 0 4px;
		}

		.search {
			flex: 1 1 auto;
		}
	}

	.footer {
		display: flex;
		justify-content: space-around;
		padding: $PD;

		button.wfm-btn {
			flex: 1 1 100%;
			margin: 0;
			transition: none;
		}
	}

	.md-toggle-icon {
		margin-left: auto;
		display: flex;
		align-items: center;
	}
}

.orgpicker-menu .shadow-site-toggle:focus + .site-toggle {
	background-color: rgba(158,158,158,0.26);
}

.orgpicker-menu.single-mode {
	.contains-selected-team {
		background-color: $green-100;
	}

	.selected {
		background-color: $green-300;
	}
}
/* End of Organization Picker */
