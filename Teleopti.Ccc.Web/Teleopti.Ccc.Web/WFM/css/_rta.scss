@media all and (-ms-high-contrast: none), // Internet Explorer
(-ms-high-contrast: active) {

  .rta-view {
	.approve-form {
	  &.non-ie {
		display: none !important;
	  }
	  &.ie {
		display: inline !important;
	  }
	}

  }
}

.rta-view {

  .approve-form {

	input {
	  margin-left: 10px;
	  margin-right: 30px;
	  width: 90px;
	  border: none;
	  border-bottom: 1px solid lightgrey;
	  line-height: 20px;
	}

	&.non-ie {
	  display: inline;
	}

	&.ie {
	  display: none;
	}

  }

  $out-of-adherence-color: darkred;
  $in-adherence-color: darkgreen;

  // con padding/margin reset
  .con-row {
	padding: 0;
	margin: 0;
  }
  .con-flex {
	padding: 0;
	margin: 0;
  }
  .con-padding .con-flex {
	padding: $full-padding;
  }
  @media screen and (min-width: 768px) {
	.con-columns > .con-flex:not(:last-child) {
	  margin-right: $full-padding;
	}
  }

  @mixin container {
	position: relative;
  }
  @mixin positioned {
	position: absolute;
  }

  .wfm-table td .label {
	font-size: 12px;
	font-weight: 100;
	padding: 5px;
  }

  .highlight > td {
	background-color: $green-100;
  }

  &.historical {
	overflow-x: hidden;

	.twocolumns {
	  display: flex;
	  .left {
		width: 200px;
		padding: $full-padding;
	  }
	  .right {
		flex-grow: 1;
		padding: $full-padding;
	  }
	}

	$shift-height: 40px;
	$out-of-adherence-height: 4px;
	$layer-row-height: 20px;
	$diamond-size: 8px;

	.timeline {
	  @include container;
	  .time {
		@include positioned;
		top: 10%;
		width: 36px;
		margin-left: -18px;
	  }
	}

	.shift {
	  @include container;
	  height: $shift-height;

	  .current-time {
		@include positioned;
		z-index: 30;
		width: 2px;
		height: 100%;
		background-color: red;
	  }

	  .out-of-adherence {
		@include positioned;
		z-index: 20;
		background-color: $out-of-adherence-color;
		height: $out-of-adherence-height;
		opacity: 0.6;
		min-width: 1px;
		top: ($shift-height - $out-of-adherence-height) / 2;
	  }

	  .activity {
		@include positioned;
		z-index: 10;
		height: 100%;
	  }

	}

	.changes {
	  @include container;
	  height: $layer-row-height;

	  .diamond {
		@include positioned;
		top: ($layer-row-height - $diamond-size) / 2;
		margin-left: ($diamond-size / 2) * -1;
		transform: rotate(45deg);
		cursor: pointer;
		height: $diamond-size;
		width: $diamond-size;
		&.highlight {
		  height: $diamond-size + 2;
		  width: $diamond-size + 2;
		  border-radius: 50%;
		}
		&.highlight:after {
		  content: '';
		  width: $diamond-size + 8;
		  height: $diamond-size + 8;
		  display: block;
		  margin-top: -3px;
		  margin-left: -3px;
		  border-radius: 50%;
		  border: 1px solid;
		  border-color: inherit;
		}
	  }
	}

	@mixin adherence-layer($color) {
	  @include positioned;
	  background-color: $color;
	  height: $layer-row-height;
	  &.highlight {
		outline: 1px solid $color;
		outline-offset: 2px;
	  }
	}

	.recorded-out-of-adherences {
	  @include container;
	  height: $layer-row-height;
	  .recorded-out-of-adherence {
		@include adherence-layer($out-of-adherence-color);
		cursor: pointer;
	  }
	}

	.approved-periods {
	  @include container;
	  height: $layer-row-height;
	  .approved-period {
		@include adherence-layer($in-adherence-color);
		cursor: pointer;
		z-index: 20;
	  }
	  .approve-period {
		@include adherence-layer($in-adherence-color);
		opacity: 0.5;
		z-index: 10;
	  }
	}

  }
}
