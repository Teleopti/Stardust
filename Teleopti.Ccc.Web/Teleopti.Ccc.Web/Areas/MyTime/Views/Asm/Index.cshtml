@using Teleopti.Ccc.UserTexts
<script type="text/javascript">
	$(function () {
		Teleopti.MyTimeWeb.AjaxSettings = { baseUrl: '@Url.Content("~/MyTime/")' };
		Teleopti.MyTimeWeb.Asm.ShowAsm();
		Teleopti.MyTimeWeb.Asm.ListenForScheduleChanges({
				notifyText: '@Resources.YourScheduleHasChanged',
				timeout: 4000,
				baseUrl: '@Url.Content("~/")', 
				webNotification: function () {
					return window.opener == null; //to avoid double messages to web notification if both portal and asm is open
				},
				header: '@Resources.Teleopti'
			},
			function (notification) {
				Teleopti.MyTimeWeb.Asm.ReloadAsmViewModelListener(notification);
				Teleopti.MyTimeWeb.Asm.NotifyWhenScheduleChangedListener(notification);
			});
	});
</script>
<div class="asm-outer-canvas ui-corner-all">
	<div class="asm-schedule-canvas ui-corner-all">
		<div class="asm-time-marker">
			<div class="asm-time-marker-inner"></div>
		</div>
		<div class="asm-sliding-schedules" data-bind="style: { left : canvasPosition }">
			<span data-bind="foreach: layers">
				<span class="asm-layer ui-corner-all" data-bind="style: { left : leftPx, backgroundColor : backgroundColor, paddingLeft : paddingLeft}, attr: {'title' : title}"></span>
			</span>
			<span data-bind="foreach: hours">
				<span class="asm-timeline-line">
					<span class="asm-timeline-number ui-corner-all" data-bind="text: $data"></span>
				</span>
			</span>
		</div>
	</div>
		<div class="asm-info-canvas ui-corner-all">
			<div style="position: relative">
				<div style="width: 200px; position:relative;text-align: left;">
					<span style="padding-left: 2px;">xxxCurrent</span>
					<span>15:00 Phone</span>
				</div>
				<div style="width: 200px; top:0px; left:200px; position: absolute; text-align: right;">
					<span><i>xxNext</i></span>
					<span style="padding-right: 2px;"><i>16:00 Administrator</i></span>
				</div>				
			</div>
			@*			<!-- ko foreach: visibleLayers -->
			<span data-bind="text: payload, css: { 'asm-info-current-activity' : active }"></span>
			<span data-bind="text: '(' + startTimeText + ')', css: { 'asm-info-current-activity' : active }"></span>
			<span>&nbsp;&nbsp;&nbsp;&nbsp;</span>
			<!-- /ko -->*@
			@*				<table id="asm-current-info-table">
				<tbody data-bind="foreach: visibleLayers">
					<tr data-bind="css: { 'asm-info-current-activity' : active }">
						<td class="asm-info-time-column" data-bind="text: startTimeText"></td>
						<td class="asm-info-next-day-column" data-bind="text: isNextday">+1</td>
						<td data-bind="text: payload"></td>
					</tr>
				</tbody>
			</table>*@
			<div class="clearboth" />
		</div>
</div>