@using Teleopti.Ccc.UserTexts
@using Teleopti.Ccc.Web.Areas.MyTime.Models.Requests
@using Teleopti.Interfaces.Domain
@model RequestsViewModel
@{
	Layout = null;
}
<!-- Used for setting properties on the requestdetailsviewmodel -->
<div class="displaynone" id="Request-detail-default-start-time">@TimeHelper.TimeOfDayFromTimeSpan(new TimeSpan(0, 0, 0))</div>
<div class="displaynone" id="Request-detail-default-end-time">@TimeHelper.TimeOfDayFromTimeSpan(new TimeSpan(23, 59, 0))</div>
<div id="Requests-body-inner" class="request-body-inner relative">
	
	<div class="ui-corner-all friendly-message ui-corner-all floatleft" data-bind="visible: requests().length == 0">
		@Resources.NoRequestsFound
	</div>

	<!-- tmeporary styles that will be moved -->
	<style media="screen" type="text/css">
		.request-item2
		{
			padding-top: 0.5em;
			padding-bottom: 0.8em;
			padding-left: 1.8em;
			padding-right: 1.8em;
			border: 1px solid rgba(0, 0, 0, 0.15);
			background: #f8f8f8;
			margin-top: 0.1em;
			margin-bottom: 0.1em;
		}
		
		
		.request-subject2
		{
			border-bottom: 1px solid rgba(0, 0, 0, 0.05);
		}
		
		.request-data-subject2
		{
			word-wrap: break-word;
		}
		
		.request-details2
		{
			font-size: smaller;
			border-bottom: 1px solid rgba(0, 0, 0, 0.05);
		}
		
		.request-caption2
		{
			color: #B0B0B0;
			font-style: italic;
			font-size: xx-small;
			
		}
		.request-data-date2
		{
			padding-right: 20px;
			padding-left: 0px;
		}
		.rtl .request-data-date2
		{
			padding-right: 0px;
			padding-left: 20px;
		}
	
		
		.request-text2
		{
			padding-top: 0.3em;
		}
		
		.request-list2
		{
			width: 483px;
		}
		
.request-data-type2 {
	padding-right: 20px;
	padding-left: 0px;
}
.rtl .request-data-type2 {
	padding-right: 0px;
	padding-left: 20px;
}
	</style>
	<a onclick="$('#Request-add-shift-trade').show();">xxxLägg till shift trade request</a>
	@Html.Partial("NewShiftTradeRequest")
	
	<div data-bind="foreach: requests" class="request-list2">
		<div class="ui-corner-all request-item2 relative">
			<div >
				<button class="request-delete-button icon" title="@Resources.Delete" />
			</div>
			<div class="request-subject2">
				<h3 class="request-data-subject2" data-bind="text: Subject">
				</h3>
			</div>
			<div class="request-details2">
				<div>
					<span class="request-caption2">@Resources.Type: </span><span data-bind="text: RequestType" class="request-data-type2">
					                                                       </span><span class="request-caption2">@Resources.Status: </span><span data-bind="text: Status">
					                                                                                                                       </span>
				</div>
				<span class="request-caption2">@Resources.Date: </span
					                                                ><span class="request-data-date2" data-bind="text: Dates">
					                                                 </span><span class="request-caption2">@Resources.UpdatedOn: </span><span data-bind="text: UpdatedOn">
					                                                                                                                    </span>
			</div>
			<div class="request-text2" data-bind="text: Text">
			</div>
			<div class="request-connector">
			</div>
		</div>
	</div>
	


	<div id="Request-detail-section" class="displaynone request-edit-section ui-corner-all">
		<input type="hidden" id="Request-detail-entityid" />
		<div id="Schedule-addRequest-title" class="pdb5">
			<span id="Text-request-tab" class="selectable-tab selected-tab" data-bind="visible: TextRequestTabVisible">@Resources.TextRequest</span>
			@if (Model.RequestPermission.AbsenceRequestPermission)
	{
				<span data-bind="visible: TabSeparatorVisible">|</span>
				<span id="Absence-request-tab" class="selectable-tab" data-bind="visible: AbsenceRequestTabVisible">@Resources.AbsenceRequest</span>
	}
		</div>
		<div class="edit-module-element">
			<span id="Request-detail-deny-reason"></span>
		</div>
		<div class="edit-module-element">
			<label class="displayblock" for="Request-detail-subject-input">@Resources.Subject</label>
			<input id="Request-detail-subject-input" type="text" />
		</div>
		<div class="edit-module-element">
			<label class="displayblock" for="Request-detail-message-input">@Resources.Message</label>
			<textarea id="Request-detail-message-input" />
		</div>
		<div id="Absence-type-element" class="floatleft displaynone">
			<div class="edit-module-element floatleft">
				<div class="floatleft absence-type-input-label">@Resources.AbsenceType</div>
			</div>
			<div class="edit-module-element floatleft">
				<select id="Absence-type" class="absence-input combobox">
					@foreach (var absenceType in Model.AbsenceTypes)
	  {
						<option value="@Html.AttributeEncode(absenceType.Name)" typeid="@Html.AttributeEncode(absenceType.Id)">@absenceType.Name</option>
	  }
				</select>
			</div>
		</div>
		<div class="floatleft">
			<span class="edit-module-element floatleft">
				<input id="Request-detail-fromDate-input" class="date-input" type="text" value="@DateTime.Today.ToShortDateString()" />
			</span><span id="Request-detail-fromTime" class="edit-module-element floatleft">
				<label class="displayblock" for="Request-detail-fromTime-input-input">@Resources.Time</label>
				<select id="Request-detail-fromTime-input" class="time-input combobox">
					@foreach (var timeSpan in Enumerable.Range(0, 48).Select(x => new TimeSpan(0, x * 30, 0)))
	  {
						<option @(timeSpan.Hours == 8 && timeSpan.Minutes == 0 ? "selected" : "") value="@Html.AttributeEncode(@TimeHelper.TimeOfDayFromTimeSpan(timeSpan))">@TimeHelper.TimeOfDayFromTimeSpan(timeSpan)</option>
	  }
				</select>
			</span>
		</div>
		<div>
			<span class="edit-module-element clearleftfloat floatleft">
				<input id="Request-detail-toDate-input" class="date-input" type="text" value="@DateTime.Today.ToShortDateString()"  />
			</span><span id="Request-detail-toTime" class="edit-module-element floatleft">
				<label class="displayblock" for="Request-detail-toTime-input-input">@Resources.Time</label>
				<select id="Request-detail-toTime-input" class="time-input combobox">
					@foreach (var timeSpan in Enumerable.Range(0, 48).Select(x => new TimeSpan(0, x * 30, 0)))
	  {
						<option @(timeSpan.Hours == 17 && timeSpan.Minutes == 0 ? "selected" : "") value="@Html.AttributeEncode(@TimeHelper.TimeOfDayFromTimeSpan(timeSpan))">@TimeHelper.TimeOfDayFromTimeSpan(timeSpan)</option>
	  }
				</select>
			</span>
		</div>
		<span class="edit-module-element clearleftfloat floatleft">
			<input type="checkbox" id="Fullday-check" data-bind="checked: IsFullDay" />
		</span>
		<label class="floatleft" for="Fullday-check">
			@Resources.FullDay
		</label>
		<input id="Request-detail-ok-button" type="button" class="button mb5 floatright" update-value="@Html.AttributeEncode(Resources.Update)" new-value="@Html.AttributeEncode(Resources.SubmitRequest)"/>
		<div id="Request-detail-error" class="error edit-module-element floatleft clearleftfloat">
		</div>
	</div>
	<div class="request-list">
		<div id="friendly-message" class="friendly-message ui-corner-all floatleft" style="display: none;">
			@Resources.NoRequestsFound
		</div>
		<ol id="Requests-list">
			<li class="ui-corner-all request-item template relative">
				<div class="request-delete-button-container">
					<button class="request-delete-button icon" style="display: none;" disabled="disabled" title="@Resources.Delete" />
				</div>
				<div class="request-subject">
					<h3 class="request-data-subject">
					</h3>
				</div>
				<div class="request-details">
					<div>
						<span class="request-caption">@Resources.Type: </span><span class="request-data-type">
						</span><span class="request-caption">@Resources.Status: </span><span class="request-data-status">
						</span>
					</div>
					<span class="request-caption">@Resources.Date: </span><span class="request-data-date">
					</span><span class="request-caption">@Resources.UpdatedOn: </span><span class="request-data-updatedon">
					</span>
				</div>
				<div class="request-text request-data-text">
				</div>
				<div class="request-connector">
				</div>
			</li>
		</ol>
		<div class="loading-gradient" style="display: none">
			<div class="loading">
			</div>
		</div>
		<div class="arrow-down">
		</div>
		<div class="clearboth">
		</div>
	</div>
</div>
