@using Teleopti.Ccc.UserTexts
@using Teleopti.Ccc.Web.Areas.MyTime.Core
@using Teleopti.Ccc.Web.Areas.MyTime.Core.Preference
@using Teleopti.Ccc.Web.Areas.MyTime.Models.Preference
@model PreferenceViewModel
@{
	Layout = null;
}

<div id="Preference-period" class="pd5 info-pnl">
	@if (Model.PreferencePeriod == null)
	 {
			@string.Format("{0} : {1}", Resources.PreferencePeriod, Resources.MissingWorkflowControlSet)
	 }
	 else
	 {
			@string.Format("{0} : {1} | ", Resources.PreferencePeriod, Model.PreferencePeriod.Period)
			@string.Format("{0} : {1}", Resources.IsOpen, Model.PreferencePeriod.OpenPeriod)
	 }
 </div>
<div id="Preference-body" class="body-calendarview clearfix" data-mytime-periodselection='@Html.Schedule().PeriodSelectionAsJson(Model.PeriodSelection)'>
	<div id="Preference-body-inner" class="body-calendarview-inner clearfix">
		<ul class="weekdays">
			@foreach (var weekDayName in Model.WeekDayHeaders)
			{
				<li>@weekDayName.Title</li>
			}
		</ul>
		@foreach (var week in Model.Weeks)
		{
			<ul class="calendarview-week">
				<li>
					<div>

					</div>
				</li>
				@foreach (var day in week.Days)
				{
					<li data-mytime-state="@Html.Schedule().FormatState(day.State)" data-mytime-date="@Html.Schedule().FormatDate(day.Date)" class="@Html.AttributeEncode(day.StyleClassName)">
						<div>
							<div class="day-header">
								<span class="floatleft ml5">@day.Header.DayDescription</span><span class="floatright mr5">@day.Header.DayNumber</span>
							</div>
							<!--<div id="possible-start-times">@day.PossibleStartTimes</div>
							<div id="possible-end-times">@day.PossibleEndTimes</div>
							<div id="possible-contract-times">@day.PossibleContractTimes</div>-->
							@Html.DayContent(day)
						</div>
					</li>
				}
			</ul>
		}
	</div>
</div>